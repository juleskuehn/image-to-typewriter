doctype html
html
  head
    meta(charset='UTF-8')
    title='kword X2'
    link(href='style.css', rel='stylesheet')
  body
    div(id="charset-target")
    div(id="image-target")
    div(id='options')
     div(class="hidden") 
      div
       label Cols:
       input(type="text" value="59" id="cols")
      div
       label Rows:
       input(type="text" value="20" id="rows")
      div
       label Grid Offset X:
       input(type="text" value="0.5" id="offsetX")
      div
       label Grid Offset Y:
       input(type="text" value="0.57" id="offsetY")
     div
      label Charset Start Col:
      input(type="text" value="0" id="colStart")
     div
      label Charset End Col:
      input(type="text" value="25" id="colEnd")
     div
      label Charset Start Row:
      input(type="text" value="5" id="rowStart")
     div
      label Charset End Row:
      input(type="text" value="8" id="rowEnd")
     div(class="hidden") 
      div
       label Overlap 1 On
       input(type="checkbox" id="overlap1")
      div
       label Overlap 1 +X:
       input(type="text" value="0" id="o1offsetX")
      div
       label Overlap 1 +Y:
       input(type="text" value="0.5" id="o1offsetY")
      div
       label Overlap 2 On
       input(type="checkbox" id="overlap2")
      div
       label Overlap 2 +X:
       input(type="text" value="0.5" id="o2offsetX")
      div
       label Overlap 2 +Y:
       input(type="text" value="0" id="o2offsetY")
     div
      button(type="button" id="chopCharset") Chop Character Set
      button(type="button" id="genCombos") Generate Combos

     select(id="bw")
      option(value="ccir") CCIR 601
      option(value="cie") CIE Luma
      option(value="flat") Equal
      option(value="red") Red
      option(value="green") Green
      option(value="blue") Blue
     div
      label Dither
      input(type="checkbox" id="dithering" checked)
     div
      label Dither Fine
      input(type="checkbox" id="ditherFine" checked)
     div
      label Consider Spill?
      input(type="checkbox" id="considerSpill" checked)
     div 
      input(type="range" id="spillRatioRight" min="0" max="1" value="0.5" step="0.01")
      label Spill Ratio Right
     div 
      input(type="range" id="spillRatioBottom" min="0" max="1" value="0.5" step="0.05")
      label Spill Ratio Bottom
     div 
      input(type="range" id="spillRatioBottomRight" min="0" max="1" value="0.5" step="0.05")
      label Spill Ratio Bottom Right
     div 
      input(type="range" id="spillRatio" min="0" max="0.5" value="0.1" step="0.005")
      label Spill Ratio Master
     div
      input(type="range" id="spillBrightness" min="0" max="1" value="0.5" step="0.05")
      label Spill Brightness
     div
      label Dither Divider:
      input(type="range" id="ditherAmount" min="-1" max="1" value=".1" step="0.05")
     div
      input(type="range" id="customR" min="0" max="3" value="1" step="0.10")
      label Red
      input(type="range" id="customG" min="0" max="3" value="1" step="0.10")
      label Green
      input(type="range" id="customB" min="0" max="3" value="1" step="0.10")
      label Blue
     div
      label Row Length
      input(type="range" id="row_length" min="1" max="100" value="40" step="1")
     div
      a(id="download") Download as image

    div(id='viewChop')
     canvas(id="charsetPreview" width="0" height="0")
     canvas(id="charsetOverlay" width="100" height="100")

    div(id='viewSelect')
    div(id='comboPreview')
    div(id="charQuadrants")

    canvas(id="inputImage")

    canvas(id="outputImage")

    canvas(id="layer1")
    canvas(id="layer2")
    canvas(id="layer3")
    canvas(id="layer4")


    div(id='tabs' style="display:none")
     button(type='button' id='tabChop') Crop and Chop
     button(type='button' id='tabSelect') Select Chars

    script(src='https://code.jquery.com/jquery-3.1.0.slim.min.js' integrity='sha256-cRpWjoSOw5KcyIOaZNo4i6fZ9tKPhYYb6i5T9RSVJG8=' crossorigin='anonymous')
    script(src='underscore-min.js')
    script(src='combinatorics.js')
    script(src='jquery-ui.min.js')
    script(src='Char.js')
    script(src='Combo.js')
    script(src='kword.js')
    != getBlock('scripts').toHTML()